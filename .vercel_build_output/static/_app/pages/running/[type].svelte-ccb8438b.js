import{C as e,S as t,i as n,s,e as r,t as i,k as a,c as o,a as c,g as u,n as l,d as m,b as p,a0 as g,f,G as h,H as d,L as w,U as $,a1 as y,A as b,j as q,m as v,o as T,x as j,u as x,v as A,W as k,a2 as E,M as N,l as D,w as I,r as C}from"../../chunks/vendor-be9b7230.js";import{p as O}from"../../chunks/stores-a77e6bb1.js";import{t as P,T as V,g as G}from"../../chunks/navigation-19cefd8c.js";import"../../chunks/singletons-12a22614.js";const H={quantities:[{id:0,rightAnswer:"3",src:"/quantities/quantities-01.jpeg",answerType:"numbers",audio:"/audio/08.m4a"},{id:1,rightAnswer:"2",src:"/quantities/quantities-02.jpeg",answerType:"numbers"},{id:2,rightAnswer:"6",src:"/quantities/quantities-03.jpeg",answerType:"numbers"},{id:3,rightAnswer:"3",src:"/quantities/quantities-04.jpeg",answerType:"numbers"},{id:4,rightAnswer:"9",src:"/quantities/quantities-05.jpeg",answerType:"numbers"},{id:5,rightAnswer:"4",src:"/quantities/quantities-06.jpeg",answerType:"numbers"},{id:6,rightAnswer:"1",src:"/quantities/quantities-07.jpeg",answerType:"numbers"},{id:7,rightAnswer:"5",src:"/quantities/quantities-08.jpeg",answerType:"numbers"},{id:8,rightAnswer:"5",src:"/quantities/quantities-09.jpeg",answerType:"numbers"},{id:9,rightAnswer:"2",src:"/quantities/quantities-10.jpeg",answerType:"numbers"},{id:10,rightAnswer:"1",src:"/quantities/quantities-11.jpeg",answerType:"numbers"},{id:11,rightAnswer:"4",src:"/quantities/quantities-12.jpeg",answerType:"numbers"},{id:12,rightAnswer:"7",src:"/quantities/quantities-13.jpeg",answerType:"numbers"},{id:13,rightAnswer:"3",src:"/quantities/quantities-14.jpeg",answerType:"numbers"},{id:14,rightAnswer:"8",src:"/quantities/quantities-15.jpeg",answerType:"numbers"},{id:15,rightAnswer:"2",src:"/quantities/quantities-16.jpeg",answerType:"numbers"},{id:16,rightAnswer:"6",src:"/quantities/quantities-17.jpeg",answerType:"numbers"},{id:17,rightAnswer:"4",src:"/quantities/quantities-18.jpeg",answerType:"numbers"}]},U=e({quantities:{seen:!1,type:"number"},colorPattern:{seen:!1,type:"number"},difference:{seen:!1,type:"number"},hiddenNumbers:{seen:!1,type:"number"},minus:{seen:!1,type:"number"},plus:{seen:!1,type:"number"},numberComparison:{seen:!1,type:"number"},numberLine:{seen:!1,type:"number"},quantityComparison:{seen:!1,type:"number"},numberPattern:{seen:!1,type:"number"}});function _(e,t,n){const s=e.slice();return s[7]=t[n],s}function M(e){let t,n,s,w,$,y=e[7]+"";function b(){return e[3](e[7])}return{c(){t=r("button"),n=i(y),s=a(),this.h()},l(e){t=o(e,"BUTTON",{class:!0});var r=c(t);n=u(r,y),s=l(r),r.forEach(m),this.h()},h(){p(t,"class","h-16 w-16 border bg-gray-50 border-gray-400 rounded-xl hover:bg-gray-300 text-4xl svelte-1mkw1ot"),g(t,"selected",e[0]===e[7])},m(e,r){f(e,t,r),h(t,n),h(t,s),w||($=d(t,"click",b),w=!0)},p(n,s){e=n,3&s&&g(t,"selected",e[0]===e[7])},d(e){e&&m(t),w=!1,$()}}}function S(e){let t,n=e[1],s=[];for(let r=0;r<n.length;r+=1)s[r]=M(_(e,n,r));return{c(){t=r("div");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=o(e,"DIV",{class:!0});var n=c(t);for(let t=0;t<s.length;t+=1)s[t].l(n);n.forEach(m),this.h()},h(){p(t,"class","grid grid-cols-10 gap-4 mb-4")},m(e,n){f(e,t,n);for(let r=0;r<s.length;r+=1)s[r].m(t,null)},p(e,[r]){if(7&r){let i;for(n=e[1],i=0;i<n.length;i+=1){const a=_(e,n,i);s[i]?s[i].p(a,r):(s[i]=M(a),s[i].c(),s[i].m(t,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},i:w,o:w,d(e){e&&m(t),$(s,e)}}}function B(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function a(e){try{c(s.next(e))}catch(t){i(t)}}function o(e){try{c(s.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}c((s=s.apply(e,t||[])).next())}))};const r=y();let i,a=new Audio(P[27].audio);function o(e){return s(this,void 0,void 0,(function*(){n(0,i=e),yield new Promise((e=>{a.play(),a.onended=e})),r("answer",{answer:e})}))}b((()=>{}));return[i,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],o,e=>o(e)]}class L extends t{constructor(e){super(),n(this,e,B,S,s,{})}}function Y(e){let t,n,s,i,u;return n=new V({props:{src:P[3].audio,text:P[3].text,autoplay:!0}}),i=new L({}),i.$on("answer",e[0]),{c(){t=r("div"),q(n.$$.fragment),s=a(),q(i.$$.fragment),this.h()},l(e){t=o(e,"DIV",{class:!0});var r=c(t);v(n.$$.fragment,r),s=l(r),v(i.$$.fragment,r),r.forEach(m),this.h()},h(){p(t,"class","h-screen flex justify-center items-center flex-col gap-6")},m(e,r){f(e,t,r),T(n,t,null),h(t,s),T(i,t,null),u=!0},p:w,i(e){u||(j(n.$$.fragment,e),j(i.$$.fragment,e),u=!0)},o(e){x(n.$$.fragment,e),x(i.$$.fragment,e),u=!1},d(e){e&&m(t),A(n),A(i)}}}function J(e,t,n){let s,r;return k(e,O,(e=>n(1,s=e))),k(e,U,(e=>n(2,r=e))),[function(e){E(U,r[s.params.type].seen=!0,r)}]}class W extends t{constructor(e){super(),n(this,e,J,Y,s,{})}}function z(e){let t,n,s,i,u,g;return u=new L({}),u.$on("answer",e[1]),{c(){t=r("div"),n=r("img"),i=a(),q(u.$$.fragment),this.h()},l(e){t=o(e,"DIV",{class:!0});var s=c(t);n=o(s,"IMG",{src:!0,alt:!0}),i=l(s),v(u.$$.fragment,s),s.forEach(m),this.h()},h(){N(n.src,s=e[0].src)||p(n,"src",s),p(n,"alt","Task"),p(t,"class","h-screen flex flex-col items-center justify-between ")},m(e,s){f(e,t,s),h(t,n),h(t,i),T(u,t,null),g=!0},p(e,[t]){(!g||1&t&&!N(n.src,s=e[0].src))&&p(n,"src",s)},i(e){g||(j(u.$$.fragment,e),g=!0)},o(e){x(u.$$.fragment,e),g=!1},d(e){e&&m(t),A(u)}}}function F(e,t,n){let s,{task:r}=t;const i=y();return b((()=>{if(s=new Date,r.audio){new Audio(r.audio).play()}console.log("MOUNTING")})),e.$$set=e=>{"task"in e&&n(0,r=e.task)},[r,function(e){const t=new Date;console.log("totalTime",t.getTime()-s.getTime());const n={answer:e.detail.answer,rightAnswer:r.rightAnswer,time:(t.getTime()-s.getTime())/1e3};console.log(n),i("taskComplete",{answer:n}),s=t}]}class K extends t{constructor(e){super(),n(this,e,F,z,s,{task:0})}}function Q(e){let t,n,s,g,$,y,b,k,E;return s=new V({props:{src:P[30].audio,text:P[30].text,autoplay:!0}}),{c(){t=r("div"),n=r("div"),q(s.$$.fragment),g=a(),$=r("button"),y=i("Home"),this.h()},l(e){t=o(e,"DIV",{class:!0});var r=c(t);n=o(r,"DIV",{class:!0});var i=c(n);v(s.$$.fragment,i),i.forEach(m),g=l(r),$=o(r,"BUTTON",{class:!0});var a=c($);y=u(a,"Home"),a.forEach(m),r.forEach(m),this.h()},h(){p(n,"class","text-2xl"),p($,"class","bg-green-400 py-4 px-6 rounded-xl"),p(t,"class","h-screen flex items-center justify-center flex-col gap-6")},m(r,i){f(r,t,i),h(t,n),T(s,n,null),h(t,g),h(t,$),h($,y),b=!0,k||(E=d($,"click",e[1]),k=!0)},p:w,i(e){b||(j(s.$$.fragment,e),b=!0)},o(e){x(s.$$.fragment,e),b=!1},d(e){e&&m(t),A(s),k=!1,E()}}}function R(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function a(e){try{c(s.next(e))}catch(t){i(t)}}function o(e){try{c(s.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}c((s=s.apply(e,t||[])).next())}))};let{completions:r}=t;b((()=>s(void 0,void 0,void 0,(function*(){console.log(r);const e=yield fetch("/api/run/complete",{method:"POST",body:JSON.stringify(Object.assign({},r)),headers:{"Content-Type":"application/json"}});e.ok&&console.log(yield e.json())}))));return e.$$set=e=>{"completions"in e&&n(0,r=e.completions)},[r,()=>G("/")]}class X extends t{constructor(e){super(),n(this,e,R,Q,s,{completions:0})}}function Z(e){let t,n;return t=new K({props:{task:e[0][e[1]]}}),t.$on("taskComplete",e[6]),{c(){q(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,s){T(t,e,s),n=!0},p(e,n){const s={};3&n&&(s.task=e[0][e[1]]),t.$set(s)},i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){A(t,e)}}}function ee(e){let t,n;return t=new X({props:{completions:e[5]}}),{c(){q(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,s){T(t,e,s),n=!0},p:w,i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){A(t,e)}}}function te(e){let t,n;return t=new W({}),{c(){q(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,s){T(t,e,s),n=!0},p:w,i(e){n||(j(t.$$.fragment,e),n=!0)},o(e){x(t.$$.fragment,e),n=!1},d(e){A(t,e)}}}function ne(e){let t,n,s,g,d,$;return{c(){t=r("div"),n=r("h1"),s=i("Not yet implemented"),g=a(),d=r("a"),$=i("Go back"),this.h()},l(e){t=o(e,"DIV",{class:!0});var r=c(t);n=o(r,"H1",{});var i=c(n);s=u(i,"Not yet implemented"),i.forEach(m),g=l(r),d=o(r,"A",{href:!0});var a=c(d);$=u(a,"Go back"),a.forEach(m),r.forEach(m),this.h()},h(){p(d,"href","/"),p(t,"class","h-screen flex items-center justify-center flex-col")},m(e,r){f(e,t,r),h(t,n),h(n,s),h(t,g),h(t,d),h(d,$)},p:w,i:w,o:w,d(e){e&&m(t)}}}function se(e){let t,n,s,r;const i=[ne,te,ee,Z],a=[];function o(e,t){return 0===e[0].length?0:e[4][e[3].params.type].seen?e[2]?2:3:1}return t=o(e),n=a[t]=i[t](e),{c(){n.c(),s=D()},l(e){n.l(e),s=D()},m(e,n){a[t].m(e,n),f(e,s,n),r=!0},p(e,[r]){let c=t;t=o(e),t===c?a[t].p(e,r):(C(),x(a[c],1,1,(()=>{a[c]=null})),I(),n=a[t],n?n.p(e,r):(n=a[t]=i[t](e),n.c()),j(n,1),n.m(s.parentNode,s))},i(e){r||(j(n),r=!0)},o(e){x(n),r=!1},d(e){a[t].d(e),e&&m(s)}}}function re(e,t,n){let s,r;k(e,O,(e=>n(3,s=e))),k(e,U,(e=>n(4,r=e)));let i=[],a=0,o=!1,c=[];return b((()=>{console.log(s.params.type),n(0,i=H[s.params.type]),console.log(i),console.log(r[s.params.type])})),[i,a,o,s,r,c,function(e){c.push(e.detail.answer),a!==i.length-1?n(1,a++,a):(console.log("YAAAY"),console.log(c),n(2,o=!0))}]}class ie extends t{constructor(e){super(),n(this,e,re,se,s,{})}}export{ie as default};
